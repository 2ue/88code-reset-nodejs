# Fly.io 配置文件
# 文档: https://fly.io/docs/reference/configuration/

app = "88code-reset-nodejs"
primary_region = "hkg"  # 香港区域，可选: nrt(东京), sin(新加坡)

[build]
  dockerfile = "Dockerfile"

[env]
  NODE_ENV = "production"
  TZ = "Asia/Shanghai"

# 内存和CPU配置
[vm]
  memory = "256mb"
  cpu_kind = "shared"
  cpus = 1

# 不需要 HTTP 服务（这是后台定时任务）
# 如果需要健康检查接口，取消下面的注释
# [[services]]
#   internal_port = 3000
#   protocol = "tcp"
#
#   [[services.ports]]
#     port = 80
#     handlers = ["http"]
#
#   [[services.ports]]
#     port = 443
#     handlers = ["tls", "http"]
#
#   [services.concurrency]
#     type = "connections"
#     hard_limit = 25
#     soft_limit = 20
#
#   [[services.tcp_checks]]
#     interval = "15s"
#     timeout = "2s"
#     grace_period = "10s"

# 持久化存储卷（可选）
# [[mounts]]
#   source = "data_volume"
#   destination = "/app/data"

# 扩展配置
[[vm]]
  memory = "256mb"
  cpu_kind = "shared"
  cpus = 1
