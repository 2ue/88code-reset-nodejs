# Render 配置文件
# 文档: https://render.com/docs/blueprint-spec

services:
  - type: worker
    name: 88code-reset-nodejs
    runtime: docker
    dockerfilePath: ./Dockerfile
    dockerContext: .

    # 环境变量（需要在 Render Dashboard 中配置敏感信息）
    envVars:
      - key: NODE_ENV
        value: production
      - key: TZ
        value: Asia/Shanghai
      - key: API_BASE_URL
        sync: false  # 需要手动在 Dashboard 中设置
      - key: API_KEYS
        sync: false  # 需要手动在 Dashboard 中设置（多个key用逗号分隔）

    # 磁盘挂载（持久化日志和数据）
    # 注意: Render 的持久化存储需要付费计划
    # disk:
    #   name: data
    #   mountPath: /app/data
    #   sizeGB: 1

    # 自动部署
    autoDeploy: true

    # 分支部署
    branch: main
