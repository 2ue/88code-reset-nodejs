# ==================== 必填配置 ====================

# API密钥（必填，多个用逗号分隔）
# 格式: 88_xxxxxx (40+字符)
API_KEYS=88_your_api_key_here_replace_with_real_key

# ==================== 重置策略 ====================

# 第一次重置检查时间（24小时制，可自定义）
# 策略：只在resetTimes=2（重置次数完整）时执行重置，保留重置机会
# 建议设置为18:50-18:56之间，为第二次检查预留充足间隔
FIRST_RESET_TIME=18:55

# 第二次重置检查时间（24小时制，可自定义）
# 策略：resetTimes>=1时执行重置，最大化利用当天重置次数
# 支持智能延迟重置：如果冷却未满，自动在冷却结束时重置（支持跨天）
# 必须与第一次检查时间间隔5小时以上（推荐23:58）
SECOND_RESET_TIME=23:58

# 指定不参与自动重置的订阅名称（subscriptionPlan.subscriptionName，逗号分隔，大小写不敏感）
EXCLUDE_PLAN_NAMES=

# 冷却期（单位：小时）
# 88code官方规定每次重置间隔5小时
COOLDOWN_HOURS=5

# ==================== API配置 ====================

# API基础URL
API_BASE_URL=https://www.88code.org

# 请求超时时间（毫秒）
API_TIMEOUT=30000

# ==================== 重试配置 ====================

# 是否启用重试
ENABLE_RETRY=true

# 最大重试次数
MAX_RETRIES=3

# 重试延迟基数（毫秒，指数退避）
RETRY_BASE_DELAY=1000

# ==================== 速率限制 ====================

# 是否启用速率限制
ENABLE_RATE_LIMIT=true

# 令牌桶容量
RATE_LIMIT_CAPACITY=10

# 令牌补充速率（个/分钟）
RATE_LIMIT_REFILL_RATE=10

# ==================== 日志配置 ====================

# 日志级别（error, warn, info, debug）
LOG_LEVEL=info

# 是否启用文件日志
LOG_FILE_ENABLED=true

# 日志目录
LOG_DIR=./logs

# 日志文件最大大小（MB）
LOG_MAX_SIZE=10

# 日志文件保留天数
LOG_MAX_DAYS=30

# 是否启用API请求详细日志（包含请求/响应体）
# 开启后会记录所有API请求的URL、请求体、响应体
# 适用于调试和排查问题，生产环境建议关闭
ENABLE_API_REQUEST_LOG=false

# ==================== 存储配置 ====================

# 数据目录
DATA_DIR=./data

# 是否启用历史记录
ENABLE_HISTORY=true

# 历史记录保留天数
HISTORY_MAX_DAYS=90

# ==================== 性能调优 ====================

# 重置请求间隔（毫秒）
# 多个订阅串行重置时的等待时间
REQUEST_INTERVAL_MS=1000

# 重置后验证等待时间（毫秒）
# 等待88code API更新订阅信息的时间
RESET_VERIFICATION_WAIT_MS=3000

# 速率限制等待超时（毫秒）
# 等待令牌桶分配令牌的最大超时时间
RATE_LIMIT_WAIT_TIMEOUT=60000

# ==================== 通知配置 ====================

# 是否启用本地文件通知
# 用于测试和调试，将通知写入本地文件而非发送到即时通讯工具
ENABLE_LOCAL_FILE_NOTIFIER=false

# 本地文件通知输出目录
LOCAL_FILE_NOTIFIER_OUTPUT_DIR=./notifications

# 是否启用 Telegram 通知
ENABLE_TELEGRAM=false

# Telegram Bot Token
# 从 @BotFather 获取
TELEGRAM_BOT_TOKEN=

# Telegram Chat ID
# 可以是用户ID或群组ID
TELEGRAM_CHAT_ID=

# 是否启用企业微信通知
ENABLE_WECOM=false

# 企业微信群机器人 Webhook URL
# 从企业微信群机器人配置获取
WECOM_WEBHOOK_URL=

# ==================== 高级配置 ====================

# 健康检查HTTP服务器（未实现,可选）
# 如需实现,设置为true并配置端口
# ENABLE_HEALTH_CHECK=false
# HEALTH_CHECK_PORT=3000

# 是否在启动时执行一次测试
RUN_TEST_ON_START=true
